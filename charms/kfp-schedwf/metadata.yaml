name: kfp-schedwf
summary: Reusable end-to-end ML workflows built using the Kubeflow Pipelines SDK
description: |
  Machine learning (ML) toolkit that is dedicated to making deployments
  of ML workflows on Kubernetes simple, portable, and scalable.
docs: https://discourse.charmhub.io/t/11187
containers:
  ml-pipeline-scheduledworkflow:
    resource: oci-image
    uid: 584792
    gid: 584792
    mounts:
    - storage: kubeflow-secrets
      location: /var/run/secrets/kubeflow/tokens
resources:
  oci-image:
    type: oci-image
    description: Backing OCI image
    # The container's `user` needs to be updated when switching from upstream image to rock
    upstream-source: docker.io/charmedkubeflow/scheduledworkflow:2.15.0-a770342
requires:
  logging:
    interface: loki_push_api
    optional: true
  kfp-api:
    interface: k8s-service
    optional: true
    schema:
      v1:
        provides:
          type: object
          properties:
            service-name:
              type: string
            service-port:
              type: string
          required:
          - service-name
          - service-port
    versions: [v1]
    __schema_source: https://raw.githubusercontent.com/canonical/operator-schemas/master/k8s-service.yaml
  service-mesh:
    limit: 1
    interface: service_mesh
    description: |
      Integrate this charm into a service mesh
  require-cmr-mesh:
    interface: cross_model_mesh
    description: |
      If this app relates to other applications on a charmed service mesh cross-model, use this relation to send that related app additional data needed to automatically generate traffic authorization policies.  This is required because Juju does not natively provide all information required to build these policies when related cross-model.
provides:
  provide-cmr-mesh:
    interface: cross_model_mesh
    description: |
      If this app is generating polciies to provide access to related applications that are cross-model, relate that app to this additional relation to retrieve additional data required for these policies.  This is required because Juju does not natively provide all information required to build these policies when related cross-model.
storage:
  kubeflow-secrets:
    type: filesystem
    minimum-size: 1M
charm-user: non-root
